<%@ page import="java.util.*, Dao.*, Servlets.*" %>
	<html>
	     <body>
	     	<form action="edita_hotel.jsp">
	     	<h2>Informações do Hotel:</h2>
	     	<table cellspacing="1" cellpadding="1" border="3"> 
	     	<tr>
	     	<%
	     	HotelDAO dao = new HotelDAO();
	     	Hotel hotel;
	     	int idHotel = 0;
	     	System.out.println(request.getParameter("hotel").replaceAll("\"",""));
	     	if(request.getParameter("hotel") != null){
	     		idHotel = Integer.parseInt(request.getParameter("hotel").replaceAll("\"",""));
	     		System.out.println(idHotel);
	     	}
	     	hotel = dao.getHotel(idHotel);
	     	
	     	TipoDAO tdao = new TipoDAO();
	     	Tipo tipo;
	     	tipo = tdao.getTipo(hotel.getTipo_idTipo());
	     	
	     	FinalidadeDAO fdao = new FinalidadeDAO();
	     	Finalidade finalidade;
	     	finalidade = fdao.getFinalidade(hotel.getFinalidade_idFinalidade());
	     	
	     	RegiaoDAO regDAO = new RegiaoDAO();
	     	Regiao regiao;
	     	regiao = regDAO.getRegiao(hotel.getRegiao_idRegiao());
	     	
	     	ClassificacaoDAO clasDAO = new ClassificacaoDAO();
	     	Classificacao classificacao;
	     	classificacao = clasDAO.getclassificacao(hotel.getClassificacao_idClassificacao());
	     	
	     	String nome = hotel.getNomeHotel();
	     	String endereco = hotel.getEndHotel();
	     	String site = hotel.getSite();
	     	int idtipo = hotel.getTipo_idTipo();
	     	int custoDiaria = hotel.getCustoDiaria();
	     	int idfinalidade = hotel.getFinalidade_idFinalidade();
	     	int idregiao = hotel.getRegiao_idRegiao();
	     	int idclassificacao = hotel.getClassificacao_idClassificacao();
	     	%>
	     	<td><center>Nome:</center></td>
	     	<td><%= hotel.getNomeHotel()%></td>
	     	</tr>
	     	<tr>
	     	<td><center>Endereço:</center></td>
	     	<td><%= hotel.getEndHotel()%></td>
	     	</tr>
	     	<tr>
	     	<td><center>Site:</center></td>
	     	<td> <%= hotel.getSite()%> </td>
	     	</tr>
	     	<tr>
	     	<td><center>Tipo:</center> </td>
	     	<td> <%= tipo.getDescricao() %> </td>
	     	</tr>
	     	<tr>
	     	<td><center>Custo da Diária: </center></td>
	     	<td>R$ <%= hotel.getCustoDiaria() %></td>
	     	</tr>
	     	<tr>
	     	<td><center>Finalidade:</center></td>
			<td> <%=finalidade.getDescricao() %> </td>
			</tr>
			<tr>
	     	<td><center>Região:</center></td>
			<td> <%=regiao.getDescricao() %> </td>
			</tr>
			<tr>
			<td><center>Classificação:</center></td>
			<td><%=classificacao.getDescricao() %></td>
			</tr>
			</table>
	      	<br>
	      	<br>
	      	<% System.out.println("Teste do EP:" + idHotel); %>
	      	<input type="hidden" name="idHotel" value="<%=idHotel %>"/> 
	      	<input type="hidden" name="idtipo" value="<%=idtipo %>"/>
	      	<input type="hidden" name="idclassificacao" value="<%=idclassificacao %>"/>      
	      	<input type="hidden" name="idregiao" value="<%=idregiao %>"/>
	      	<input type="hidden" name="idfinalidade" value="<%=idfinalidade %>"/>
	      	<input type="hidden" name="custoDiaria" value="<%=custoDiaria %>"/>
	      	<input type="hidden" name="site" value="<%=site %>"/>
	      	<input type="hidden" name="endereco" value="<%=endereco %>"/>
	      	<input type="hidden" name="nome" value="<%=nome %>"/>
	      	<input type="submit" value="Editar" />		
			
			</form>
			
			<form action="adicionaHHS">
	     	<h2>Serviços próximos ao Hotel:</h2>
	     	<table cellspacing="1" cellpadding="1" border="3"> 
	     	<tr>
	     	<%
	     	Hotel_has_ServicoDAO hhsdao = new Hotel_has_ServicoDAO();
	     	List<Servico> servicos = hhsdao.getServicos(hotel.getIdHotel());
	     	
	     	for(Servico s : servicos){	     	
	     	%>
	     	<td><%= s.getNomeServico()%></td>
	     	</tr>
	     	<%
	     	}
	     	%></table>
	      	<br>
	      	<br>
	      	
	      	<input type="submit" value="Editar" />		
			
			</form>
			
			<form action="adiciona_hhs.jsp">
	     	<h2>Pontos Turísticos próximos ao Hotel:</h2>
	     	<table cellspacing="1" cellpadding="1" border="3"> 
	     	<tr>
	     	<%
	     	Hotel_has_SitioTuristicoDAO hhsitdao = new Hotel_has_SitioTuristicoDAO();
	     	List<SitioTuristico> sitios = hhsitdao.getSitios(hotel.getIdHotel());
	     	
	     	for(SitioTuristico s : sitios){	     	
	     	%>
	     	<td><%= s.getNomeSitio()%></td>
	     	</tr>
	     	<%
	     	}
	     	%></table>
	      	<br>
	      	<br>
	      	<input type="hidden" name="idHotel" value="<%=idHotel %>"/>
	      	<input type="submit" value="Editar" />		
			
			</form>			
                   
	     	</body>
   </html>
